# 자산거래 시스템 API 테스트 사용 설명서

## 개요

이 문서는 자산거래 시스템의 API를 테스트하기 위한 방법을 설명합니다. 테스트에는 실제 기업 정보를 활용하여 더 현실적인 데이터로 테스트 할 수 있도록 구성되어 있습니다.

## 포함된 파일

- `AssetTrading_API_Collection.postman_collection.json`: Postman 콜렉션 파일
- `test_data.json`: 테스트에 사용되는 실제 기업 데이터
- `ChatControllerTest_수정본.java`: 채팅 컨트롤러 테스트 코드 (실제 기업 데이터 적용)
- `README.md`: 프로젝트 설명 및 사용 방법

## Postman 콜렉션 사용 방법

### 1. Postman 설치 및 콜렉션 가져오기

1. [Postman 공식 사이트](https://www.postman.com/downloads/)에서 Postman을 다운로드하여 설치합니다.
2. Postman을 실행하고 상단 메뉴에서 `Import` 버튼을 클릭합니다.
3. `AssetTrading_API_Collection.postman_collection.json` 파일을 선택하여 가져옵니다.

### 2. 환경 설정

1. 콜렉션이 가져와지면 좌측에 "자산거래 시스템 API 테스트" 콜렉션이 생성됩니다.
2. 기본적으로 `{{base_url}}` 변수는 `http://localhost:8080`으로 설정되어 있습니다.
3. 다른 서버 주소를 사용하려면 우측 상단의 환경 설정에서 변수를 수정합니다.

### 3. API 테스트 실행

1. 콜렉션 내의 폴더별로 API가 분류되어 있습니다:
   - 사용자 관리
   - 사업자 검증
   - 상품 관리
   - 거래 관리
   - 채팅
2. 각 API를 선택하고 요청 본문을 확인합니다.
3. 필요에 따라 요청 본문의 데이터를 수정합니다. `test_data.json` 파일의 실제 기업 데이터를 참고할 수 있습니다.
4. `Send` 버튼을 클릭하여 API를 호출하고 응답을 확인합니다.

### 4. 순서대로 API 테스트하기

효과적인 테스트를 위해 다음 순서로 API를 테스트하는 것을 권장합니다:

1. **사용자 등록 및 인증**
   - 회원가입 API를 통해 사용자 등록
   - 로그인 API를 통해 인증 세션 획득

2. **사업자 검증**
   - 등록된 사업자등록번호 진위 확인

3. **상품 관리**
   - 상품 등록
   - 상품 조회

4. **거래 관리**
   - 거래 요청
   - 거래 승인/완료/취소

5. **채팅**
   - 채팅방 생성
   - 메시지 전송 및 조회

## JUnit 테스트 활용

`ChatControllerTest_수정본.java` 파일은 채팅 컨트롤러에 대한 단위 테스트를 실제 기업 데이터를 사용하여 작성한 파일입니다.

1. `src/test/java/com/example/AssetTrading/Controller/` 디렉토리에 파일을 복사합니다.
2. JUnit을 통해 테스트를 실행합니다.
3. 테스트 결과를 확인하고 디버깅합니다.

## 테스트 데이터

`test_data.json` 파일에는 다음과 같은 실제 기업 정보가 포함되어 있습니다:

1. **삼성전자**
   - 사업자등록번호: 124-81-00998
   - 대표자: 김기남
   - 개업일자: 1969-01-01

2. **LG전자**
   - 사업자등록번호: 107-86-14075
   - 대표자: 조주완
   - 개업일자: 1958-02-24

3. **현대자동차**
   - 사업자등록번호: 101-81-09147
   - 대표자: 장재훈
   - 개업일자: 1967-12-29

4. **SK하이닉스**
   - 사업자등록번호: 126-81-03725
   - 대표자: 이석희
   - 개업일자: 1983-03-02

5. **네이버**
   - 사업자등록번호: 220-81-62517
   - 대표자: 최수연
   - 개업일자: 1999-06-02

## 주의사항

1. 테스트를 실행하기 전에 자산거래 시스템 서버가 실행 중이어야 합니다.
2. 인증이 필요한 API의 경우, 먼저 로그인 API를 호출하여 세션 기반 인증을 수행해야 합니다.
3. 각 API의 상세 설명은 Postman 콜렉션의 각 요청 항목에 포함되어 있습니다.
4. API 호출 시 리스폰스가 오류를 반환하는 경우, 로그를 확인하여 원인을 파악하십시오.

## 문제 해결

API 테스트 중 문제가 발생한 경우 다음 사항을 확인하세요:

1. 서버가 정상적으로 실행 중인지 확인
2. 요청 본문의 데이터 형식이 올바른지 확인
3. 필수 파라미터가 누락되지 않았는지 확인
4. 인증이 필요한 API의 경우 로그인 상태인지 확인
5. 서버 로그에서 자세한 오류 메시지 확인

---

본 테스트 자료에 대한 문의사항이 있으시면 개발팀에 문의해 주시기 바랍니다. 