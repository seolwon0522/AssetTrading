# SellProductController 단계별 테스트 가이드

이 가이드는 제공된 Postman 컬렉션을 사용하여 SellProductController의 모든 엔드포인트를 테스트하는 방법을 안내합니다.

## 설정

1. Spring Boot 애플리케이션이 `localhost:8080`에서 실행 중인지 확인하세요
2. Postman에 컬렉션(`AssetTrading_Products_API.json`)과 환경(`AssetTrading_Environment.json`)을 가져오세요
3. Postman의 환경 드롭다운에서 "AssetTrading 환경"을 선택하세요

## 테스트 순서

### 1. 새 상품 등록

1. 먼저 애플리케이션에 로그인되어 있는지 확인하세요 (이 엔드포인트는 세션이 필요합니다)
2. "새 상품 등록" 요청을 열어보세요
3. 요청 본문을 확인하세요:
   ```json
   {
     "productTitle": "게이밍 노트북",
     "productDesc": "RTX 3080 탑재 고성능 게이밍 노트북",
     "productPrice": 1500000,
     "productImg": "laptop.jpg",
     "category": "{{category}}",
     "tags": ["{{tag}}", "노트북", "전자제품"],
     "isSellingAvailable": true
   }
   ```
4. "Send" 버튼을 클릭하세요
5. 성공적으로 요청이 처리되면, 생성된 상품 세부 정보와 함께 상품 ID가 포함된 응답을 받게 됩니다
6. **중요:** 응답에서 상품 ID를 복사하여 환경의 `productId` 변수를 업데이트하세요

### 2. 상품 ID로 조회

1. "상품 ID로 조회" 요청을 열어보세요
2. `{{productId}}`가 방금 생성한 상품의 ID로 설정되어 있는지 확인하세요
3. "Send" 버튼을 클릭하세요
4. 생성한 상품의 세부 정보를 받아야 합니다

### 3. 상품 검색

1. "키워드로 상품 검색" 요청을 열어보세요
2. 키워드는 `{{keyword}}`로 설정되어 있으며, 기본값은 "노트북"입니다
3. "Send" 버튼을 클릭하세요
4. 키워드와 일치하는 상품 목록이 표시되어야 합니다
5. 페이징 처리된 결과를 보려면 "키워드로 상품 검색 (페이징)" 요청을 사용해보세요

### 4. 상품 정보 업데이트

1. "상품 정보 업데이트" 요청을 열어보세요
2. 업데이트된 정보가 포함된 요청 본문을 확인하세요:
   ```json
   {
     "productTitle": "업데이트된 게이밍 노트북",
     "productDesc": "RTX 3080 Ti 탑재 고성능 게이밍 노트북",
     "productPrice": 1700000,
     "productImg": "updated_laptop.jpg",
     "category": "{{category}}",
     "tags": ["{{tag}}", "노트북", "전자제품", "프리미엄"],
     "isSellingAvailable": true
   }
   ```
3. "Send" 버튼을 클릭하세요
4. "상품 ID로 조회" 요청을 다시 사용하여 상품이 업데이트되었는지 확인하세요

### 5. 상품 상태 업데이트

1. "상품 상태 업데이트" 요청을 열어보세요
2. `isSellingAvailable=false`로 설정되어 있는 것을 확인하세요
3. "Send" 버튼을 클릭하세요
4. "상품 ID로 조회"를 사용하여 상태 변경을 확인하세요

### 6. 상품 상태 상세 업데이트

1. "상품 상태 상세 업데이트" 요청을 열어보세요
2. `status=RESERVED`로 설정되어 있는 것을 확인하세요
3. "Send" 버튼을 클릭하세요
4. "상품 ID로 조회"를 사용하여 상태 변경을 확인하세요

### 7. 카테고리 및 태그 엔드포인트 테스트

1. "카테고리별 상품 조회" 요청을 열어보세요
2. "Send" 버튼을 클릭하여 "전자제품" 카테고리의 상품을 확인하세요
3. "태그별 상품 조회" 요청을 열어보세요
4. "Send" 버튼을 클릭하여 "게이밍" 태그가 있는 상품을 확인하세요

### 8. 가격 범위 필터 테스트

1. "가격 범위로 상품 조회" 요청을 열어보세요
2. 기본 범위는 500,000원에서 2,000,000원으로 설정되어 있습니다
3. "Send" 버튼을 클릭하세요
4. 해당 가격 범위 내의 상품이 표시되어야 합니다

### 9. 추천 상품 테스트

1. "추천 상품 토글" 요청을 열어보세요
2. "Send" 버튼을 클릭하여 상품을 추천 상품으로 표시하세요
3. "추천 상품 조회" 요청을 열어보세요
4. "Send" 버튼을 클릭하여 모든 추천 상품을 확인하세요 (방금 추천한 상품이 포함되어야 합니다)

### 10. 판매자별 상품 테스트

1. "판매자별 상품 조회" 요청을 열어보세요
2. 판매자 ID는 `{{sellerUserIdx}}`로 설정되어 있으며 기본값은 1입니다
3. "Send" 버튼을 클릭하세요
4. 해당 판매자의 모든 상품이 표시되어야 합니다

### 11. 노출 가능 상품 테스트

1. "노출 가능 상품 조회" 요청을 열어보세요
2. "Send" 버튼을 클릭하세요
3. 판매 가능한 모든 상품이 표시되어야 합니다
4. 페이징 처리된 결과를 보려면 "노출 가능 상품 조회 (페이징)" 요청을 사용해보세요

### 12. 인기 상품 테스트

1. "인기 상품 조회" 요청을 열어보세요
2. "Send" 버튼을 클릭하세요
3. 조회수 기준으로 정렬된 상품이 표시되어야 합니다

### 13. 상품 삭제 (선택 사항)

1. "상품 삭제" 요청을 열어보세요
2. "Send" 버튼을 클릭하여 상품을 삭제하세요
3. ID로 상품 조회를 시도하여 삭제를 확인하세요 (오류가 반환되어야 합니다)

## 문제 해결

- 등록 엔드포인트에서 401 Unauthorized 오류가 발생하면 로그인되어 있는지 확인하세요
- 상품 ID에 대해 404 Not Found 오류가 발생하면 올바른 ID를 사용하고 있는지 확인하세요
- 400 Bad Request 오류의 경우 요청 본문에 누락되거나 잘못된 필드가 있는지 확인하세요 